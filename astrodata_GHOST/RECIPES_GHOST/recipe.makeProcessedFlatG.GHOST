# This recipe performs the standardization and corrections needed to convert
# the raw input dark images into a single stacked flat image. This output
# processed flat is stored on disk using storeProcessedFlat and has a name
# equal to the name of the first input dark image with "_flat.fits" appended.

prepare(attach_mdf=False)
addDQ(illum_mask=False)
addVAR(read_noise=True)
overscanCorrect
mosaicADdetectors(tile=True)
biasCorrect
ADUToElectrons
addVAR(poisson_noise=True)
darkCorrect
addToList(purpose="forStack")
getList(purpose="forStack")
stackFrames(operation="median")
storeProcessedFlat
findApertures
storeProcessedPolyfit
