# The list of primitives to be run to reduce a GHOST science frame.
# Adapt to match the flow chart, though that initial sequence is quite
# standard for optical data.

prepare
addDQ
addVAR(read_noise=True)
overscanCorrect
tileAmplifiers
biasCorrect
ADUToElectrons
darkCorrect
#rejectCosmicRays # maybe not needed?
addVAR(poisson_noise=True)
applyFlatBPM # Bitwise combine the flat BPM with the current BPM
             # for the data
extractProfile
#flatCorrect # Need to write our own, NOT USE GMOS - extract the flat profile,
#            # then simple division
#responseCorrect # canned standard star correction to the point of
                 # flatCorrect, plus a model flux
                 # User should be able to turn off this step
                 # Possible option for telluric correction (so
                 # option to override canned file used)
#addWavelengthSolution # should be able to accept multiple input
                       # arcs, e.g. from start and end of night,
                       # and interpolate in time
#barycentricCorrect # trivial - multiply wavelength scale
#interpolateAndCombine # Should factor this step into separate recipe
